<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workforce Twin - Etter</title>

    <!-- Google Fonts: Plus Jakarta Sans (headings) + Inter (body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans:    ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                        heading: ['"Plus Jakarta Sans"', 'Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        brand:    { 50:'#eff6ff', 100:'#dbeafe', 200:'#bfdbfe', 300:'#93c5fd',
                                    400:'#60a5fa', 500:'#3b82f6', 600:'#2563eb', 700:'#1d4ed8',
                                    800:'#1e40af', 900:'#1e3a8a' },
                        positive: { 50:'#f0fdf4', 100:'#dcfce7', 200:'#bbf7d0', 500:'#22c55e', 600:'#16a34a', 700:'#15803d' },
                        negative: { 50:'#fef2f2', 100:'#fee2e2', 200:'#fecaca', 500:'#ef4444', 600:'#dc2626', 700:'#b91c1c' },
                        warning:  { 50:'#fffbeb', 100:'#fef3c7', 200:'#fde68a', 500:'#f59e0b', 600:'#d97706', 700:'#b45309' },
                        ai:       { 50:'#faf5ff', 100:'#f3e8ff', 200:'#e9d5ff', 500:'#a855f7', 600:'#9333ea', 700:'#7e22ce' },
                        info:     { 50:'#eff6ff', 100:'#dbeafe', 200:'#bfdbfe', 500:'#3b82f6', 600:'#2563eb', 700:'#1d4ed8' },
                    }
                }
            }
        }
    </script>

    <!-- Chart.js (pinned) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- D3.js for force graphs and Sankey diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12/dist/d3-sankey.min.js"></script>

    <!-- Three.js + 3D Force Graph -->
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script src="https://unpkg.com/3d-force-graph"></script>

    <!-- React 18 + htm (pinned versions) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/htm@3.1.1/dist/htm.umd.js"></script>

    <style>
        /* ── Typography base ── */
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; font-size: 16px; line-height: 1.6; }
        h1, h2, h3, .font-heading { font-family: 'Plus Jakarta Sans', 'Inter', system-ui, sans-serif; }
        h1 { font-weight: 700; }
        h2 { font-weight: 600; }
        h3 { font-weight: 600; }
        .text-xs   { font-size: 0.75rem; line-height: 1.5; }   /* 12px */
        .text-sm   { font-size: 0.875rem; line-height: 1.5; }  /* 14px */
        .text-base { font-size: 1rem; line-height: 1.6; }      /* 16px */
        .text-lg   { font-size: 1.125rem; line-height: 1.5; }  /* 18px */
        .text-xl   { font-size: 1.25rem; line-height: 1.4; }   /* 20px */
        .text-2xl  { font-size: 1.5rem; line-height: 1.35; }   /* 24px */
        /* Custom scrollbar */
        .sidebar-scroll::-webkit-scrollbar { width: 4px; }
        .sidebar-scroll::-webkit-scrollbar-track { background: transparent; }
        .sidebar-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 2px; }
        /* Tree node animation */
        .tree-children { overflow: hidden; transition: max-height 0.2s ease-out; }
        /* Pulse animation for running state */
        @keyframes pulse-dot { 0%,100%{opacity:1} 50%{opacity:0.4} }
        .pulse-dot { animation: pulse-dot 1.5s infinite; }
        /* Fade in */
        @keyframes fadeIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        /* Chart slide up animation */
        @keyframes slideUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
        .chart-animate { animation: slideUp 0.5s ease-out; }
        /* SVG draw-in for connecting lines */
        @keyframes drawIn { from{stroke-dashoffset:200} to{stroke-dashoffset:0} }
        .draw-in { stroke-dasharray: 200; animation: drawIn 0.8s ease-out forwards; }
        /* Cascade step reveal */
        @keyframes cascadeReveal { from{opacity:0;transform:scale(0.8)} to{opacity:1;transform:scale(1)} }
        .cascade-step { animation: cascadeReveal 0.4s ease-out forwards; }
        /* Shimmer loading */
        @keyframes shimmer { 0%{background-position:-200px 0} 100%{background-position:200px 0} }
        .shimmer { background:linear-gradient(90deg,#f3f4f6 25%,#e5e7eb 50%,#f3f4f6 75%); background-size:400px 100%; animation:shimmer 1.5s infinite; }
        /* CTA pulse glow */
        @keyframes ctaPulse { 0%,100%{box-shadow:0 0 0 0 rgba(59,130,246,0.4)} 50%{box-shadow:0 0 0 8px rgba(59,130,246,0)} }
        .cta-pulse { animation: ctaPulse 2.5s ease-in-out infinite; }
        /* Quick action hover */
        .quick-action-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .quick-action-card:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 25px -5px rgba(0,0,0,0.1), 0 4px 10px -5px rgba(0,0,0,0.04); }
        .quick-action-card:hover .qa-arrow { transform: translateX(4px); }
        .qa-arrow { transition: transform 0.2s ease; }
        /* Tooltip */
        .dt-tooltip { position: relative; }
        .dt-tooltip .dt-tooltip-text { visibility:hidden; opacity:0; position:absolute; bottom:calc(100% + 6px); left:50%; transform:translateX(-50%); background:#1e293b; color:white; padding:6px 10px; border-radius:6px; font-size:11px; line-height:1.4; white-space:normal; width:200px; text-align:center; z-index:50; pointer-events:none; transition:opacity 0.15s ease; }
        .dt-tooltip .dt-tooltip-text::after { content:''; position:absolute; top:100%; left:50%; transform:translateX(-50%); border-width:4px; border-style:solid; border-color:#1e293b transparent transparent transparent; }
        .dt-tooltip:hover .dt-tooltip-text { visibility:visible; opacity:1; }
        /* D3 graph tooltip */
        .graph-tooltip { position:absolute; pointer-events:none; background:rgba(0,0,0,0.8); color:white; padding:4px 8px; border-radius:4px; font-size:12px; z-index:100; }
        /* 3D graph canvas fills container */
        .graph-3d-container canvas { width: 100% !important; height: 100% !important; border-radius: 12px; }
        .graph-3d-container > div { width: 100% !important; height: 100% !important; }
    </style>
</head>
<body class="h-full">
    <div id="root" class="h-full"></div>

    <!-- Application scripts -->
    <script src="/static/js/components.js"></script>
    <script src="/static/js/visualizations.js"></script>
    <script src="/static/js/views/Dashboard.js"></script>
    <script src="/static/js/views/Explorer.js"></script>
    <script src="/static/js/views/GraphExplorer.js"></script>
    <script src="/static/js/views/Simulator.js"></script>
    <script src="/static/js/views/Results.js"></script>
    <script src="/static/js/views/Comparison.js"></script>
    <script src="/static/js/views/Chat.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
